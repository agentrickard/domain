services:
  domain_config_ui.factory:
    class: Drupal\domain_config_ui\Config\ConfigFactory
    tags:
      - { name: event_subscriber }
      - { name: service_collector, tag: 'config.factory.override', call: addOverride }
    arguments: ['@config.storage', '@event_dispatcher', '@config.typed']

  config.factory:
    alias: domain_config_ui.factory

  domain_config_ui.overrider:
    class: Drupal\domain_config_ui\DomainConfigUIOverrider
    tags:
      - { name: config.factory.override, priority: -150}
    arguments: ['@domain.negotiator', '@config.storage']

  domain_config.overrider:
    alias: domain_config_ui.overrider
